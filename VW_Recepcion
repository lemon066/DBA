ALTER VIEW [dbo].[VW_Recepcion]
AS
SELECT        dbo.trans_re_enc.IdRecepcionEnc AS CÃ³digo, dbo.propietarios.nombre_comercial AS Propietario, dbo.proveedor.nombre AS Proveedor, dbo.bodega.nombre AS Bodega, dbo.trans_re_oc.IdOrdenCompraEnc AS NoOrdenCompra, 
                         dbo.trans_oc_enc.No_Documento + ' ' + dbo.trans_oc_enc.Referencia AS No_DocumentoOC, dbo.trans_re_enc.fecha_recepcion AS Fecha, dbo.trans_re_enc.estado, dbo.trans_re_tr.TipoTrans, dbo.trans_re_tr.Descripcion, 
                         dbo.bodega_muelles.nombre AS Muelle, dbo.trans_re_enc.activo, dbo.usuario.nombres AS Usuario_Agrego, dbo.trans_re_enc.fec_agr AS Fecha_Agrego, dbo.trans_re_tr.IdTipoTransaccion, dbo.bodega.IdBodega
FROM            dbo.bodega_muelles RIGHT OUTER JOIN
                         dbo.trans_re_oc INNER JOIN
                         dbo.trans_oc_enc ON dbo.trans_re_oc.IdOrdenCompraEnc = dbo.trans_oc_enc.IdOrdenCompraEnc INNER JOIN
                         dbo.proveedor_bodega ON dbo.trans_oc_enc.IdProveedorBodega = dbo.proveedor_bodega.IdAsignacion INNER JOIN
                         dbo.proveedor ON dbo.proveedor_bodega.IdProveedor = dbo.proveedor.IdProveedor RIGHT OUTER JOIN
                         dbo.trans_re_tr INNER JOIN
                         dbo.trans_re_enc ON dbo.trans_re_tr.IdTipoTransaccion = dbo.trans_re_enc.IdTipoTransaccion INNER JOIN
                         dbo.usuario ON dbo.trans_re_enc.user_agr = dbo.usuario.IdUsuario INNER JOIN
                         dbo.propietarios INNER JOIN
                         dbo.propietario_bodega ON dbo.propietarios.IdPropietario = dbo.propietario_bodega.IdPropietario INNER JOIN
                         dbo.bodega ON dbo.propietario_bodega.IdBodega = dbo.bodega.IdBodega ON dbo.trans_re_enc.IdPropietarioBodega = dbo.propietario_bodega.IdPropietarioBodega ON 
                         dbo.trans_re_oc.IdRecepcionEnc = dbo.trans_re_enc.IdRecepcionEnc ON dbo.bodega_muelles.IdMuelle = dbo.trans_re_enc.IdMuelle
GO

